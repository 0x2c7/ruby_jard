<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.63">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-92088150-3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-92088150-3",{})</script><title data-react-helmet="true">Screens | Ruby Jard</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" property="og:image" content="https://rubyjard.org//img/thumbnail.jpg"><meta data-react-helmet="true" property="twitter:image" content="https://rubyjard.org//img/thumbnail.jpg"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Ruby Jard"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Screens | Ruby Jard"><meta data-react-helmet="true" name="description" content="When Jard attaches at any line of code, the main tile-style UI shows up. By default, there are 5 areas on the UI that you&#x27;ll be interested."><meta data-react-helmet="true" property="og:description" content="When Jard attaches at any line of code, the main tile-style UI shows up. By default, there are 5 areas on the UI that you&#x27;ll be interested."><meta data-react-helmet="true" property="og:url" content="https://rubyjard.org//docs/Screens"><link data-react-helmet="true" rel="shortcut icon" href="/img/logo/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://rubyjard.org//docs/Screens"><link rel="stylesheet" href="/styles.1d4c64e9.css">
<link rel="preload" href="/styles.a8e08bbd.js" as="script">
<link rel="preload" href="/runtime~main.a070c269.js" as="script">
<link rel="preload" href="/main.c461be2c.js" as="script">
<link rel="preload" href="/1.62e8dab6.js" as="script">
<link rel="preload" href="/2.433cb233.js" as="script">
<link rel="preload" href="/27.1eb4e052.js" as="script">
<link rel="preload" href="/29.2bd5991a.js" as="script">
<link rel="preload" href="/935f2afb.dbcac315.js" as="script">
<link rel="preload" href="/17896441.5815503b.js" as="script">
<link rel="preload" href="/95b594ff.94288aff.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo/logo-small.png" alt="Ruby Jard Logo"><strong class="navbar__title">Ruby Jard</strong></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a href="https://github.com/nguyenquangminh0711/ruby_jard" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo/logo-small.png" alt="Ruby Jard Logo"><strong class="navbar__title">Ruby Jard</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/nguyenquangminh0711/ruby_jard" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Ruby Jard</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Contributing">Contributing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Roadmap">Roadmap</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Getting started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Installation">Installation</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/Screens">Screens</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Color schemes">Color schemes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Configurations">Configurations</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Flow Commands</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/commands/next">next</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/commands/step">step</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/commands/step_out">step_out</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/commands/continue">continue</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/commands/up">up</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/commands/down">down</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/commands/frame">frame</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/commands/list">list</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Control Commands</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/commands/show">show</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/commands/hide">hide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/commands/output">output</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/commands/color_scheme">color_scheme</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Screens</h1></header><div class="markdown"><p>When Jard attaches at any line of code, the main tile-style UI shows up. By default, there are 5 areas on the UI that you&#x27;ll be interested.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="source-screen"></a>Source screen<a aria-hidden="true" tabindex="-1" class="hash-link" href="#source-screen" title="Direct link to heading">#</a></h3><img src="/img/screen-source.png" alt="Source screen"><p>This screen shows the current line of code that your program is stopping, and surrounding related lines. The number of lines shown in this screen depends on your current terminal height, but never less than 5.</p><p>Ruby Jard supports any file extensions that your program runs into, especially <code>.rb</code>, <code>.erb</code>, <code>.haml</code> files. Other file types may encounter minor syntax highlighting issues.</p><p>Ruby Jard also supports inspecting gems and libraries, if you are interested.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="backtrace-screen"></a>Backtrace screen<a aria-hidden="true" tabindex="-1" class="hash-link" href="#backtrace-screen" title="Direct link to heading">#</a></h3><img src="/img/screen-backtrace.png" alt="Screen backtrace"><p>This screen describes the current backtrace of the current thread your program is stopping. Each line of this screen describes the current Frame. What is frame and backtrace by the way? Let&#x27;s step back a little bit at how Ruby executes your code. Internally, Ruby uses an interpreter to read and execute your code, line by line (technically, YARD instructions, but let&#x27;s go with a simple version). When it meets a chunk of code that needs to open a new scope, like method calls or inline-block call, the interpreter creates a new structure to store the current context so that it can link to the next scope and go back later. This data structure is call Frame. The interpreter pushes frame into a stack, called backtrace (or stack trace, or call stack, whatever), and continues to execute your code. Each thread has a separate backtrace. To understand deeply, you may be interested in this wonderful slide: <a href="https://www.slideshare.net/KeitaSugiyama1/grow-and-shrink-dynamically-extending-the-ruby-vm-stack" target="_blank" rel="noopener noreferrer">Grow and Shrink - Dynamically Extending the Ruby VM Stack</a>.</p><p>Overall, the whole backtrace screen lets you know where you are stopping at, the trace of how your program is running. When combining with other tools and other screens, you will be surprised by how much information the bugger can help you when you encounter your bugs.</p><p>Each frame includes the following information:</p><ul><li>Frame ID: incremental, can be used to jump to an arbitrary frame with frame command.</li><li>Current location label: a class name and method name of the method covers its frame. If there is a <code>[c]</code> prefix in front of a class name, it means that the method is provided by Ruby, implemented in C, and impossible to peek.</li><li>Current physical location: exact file name and line number. If a frame is allocated in a gem, the physical location shows a gem name and version only. For example: <code>RSpec::Core::Hooks::HookCollections in run in rspec-core (3.9.2)</code>.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="variable-screen"></a>Variable screen<a aria-hidden="true" tabindex="-1" class="hash-link" href="#variable-screen" title="Direct link to heading">#</a></h3><img src="/img/screen-variables.png" alt="Variables screen"><p>The variable screen lets you explore all the local variables, instance variables, and constants in the current display context. Each variable is described by:</p><ul><li>Inline indicator: the beginning dot (<code>•</code>) implies a variable that appears in the current line.</li><li>Variable type: allow you to know the type of a variable at a single glance. Only built-in types, such as <code>int</code>, <code>flt</code>, <code>hash</code>, <code>bool</code>, <code>rng</code>, are supported. Instances of any classes will be noted as <code>var</code>.</li><li>Size of variable: the size of collection-like variables. Current Jard version supports 3 types:<ul><li>Hash: this field shows the number of keys</li><li>Array: this field shows the number of items</li><li>String: this field shows the number of character (fetched from<code>String#size</code> method)</li></ul></li><li>Variable inspection: the content of the variable. The current Jard version generates this field by calling <code>#inspect</code>. <strong>Known issue</strong>: this accidentally triggers materializing method of objects, such as <code>ActiveRecord::Relation</code>. Future Jard version gonna fix this by a new safe generator.</li></ul><p>This screen interacts well with backtrace screen and backtrace-exploring commands such as (<code>up</code>, <code>down</code>, <code>frame</code>, etc.) to inspect relative variables at each frame layer in the program. A common use case is to recall the parameter values you forgot when digging too deep into a method call.</p><p>By default, the variables are sorted by the following criteria:</p><ul><li>Pinned variables (coming soon)</li><li>Current context (self)</li><li>Local variables</li><li>Instance variables</li><li>Constants</li><li>Global variables (coming soon)</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="thread-screen"></a>Thread screen<a aria-hidden="true" tabindex="-1" class="hash-link" href="#thread-screen" title="Direct link to heading">#</a></h3><img src="/img/screen-threads.png" alt="Screen threads"><p>Show all the threads running at the moment. This screen is useful when you are working with a complicated multi-threaded environment like web server, or background jobs.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="repl-screen"></a>Repl screen<a aria-hidden="true" tabindex="-1" class="hash-link" href="#repl-screen" title="Direct link to heading">#</a></h3><img src="/img/screen-repl.png" alt="Screen repl"><p>An interactive Repl for you to interact with your program, inspect values, update values, or control the debug flow as you want. The heart of Jard&#x27;s repl is <a href="https://github.com/pry/pry" target="_blank" rel="noopener noreferrer">Pry</a>, a masterpiece gem. When you type a command, Jard parses, and does corresponding actions if what you type matches supported command. Otherwise, they are evaluated as Ruby code.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/nguyenquangminh0711/ruby_jard/edit/master/website/docs/screens.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/Installation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Installation</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/Color schemes"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Color schemes »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#source-screen" class="table-of-contents__link">Source screen</a></li><li><a href="#backtrace-screen" class="table-of-contents__link">Backtrace screen</a></li><li><a href="#variable-screen" class="table-of-contents__link">Variable screen</a></li><li><a href="#thread-screen" class="table-of-contents__link">Thread screen</a></li><li><a href="#repl-screen" class="table-of-contents__link">Repl screen</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright © 2020 Minh Nguyen - nguyenquangminh0711. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.a8e08bbd.js"></script>
<script src="/runtime~main.a070c269.js"></script>
<script src="/main.c461be2c.js"></script>
<script src="/1.62e8dab6.js"></script>
<script src="/2.433cb233.js"></script>
<script src="/27.1eb4e052.js"></script>
<script src="/29.2bd5991a.js"></script>
<script src="/935f2afb.dbcac315.js"></script>
<script src="/17896441.5815503b.js"></script>
<script src="/95b594ff.94288aff.js"></script>
</body>
</html>